<!doctype html>
<html>
    <head>
        <title>Are we reorganized yet?</title>
        <meta charset="utf-8">

        <style>
body {
    background-color: black;
    color: white;
}
h1, h2 {
    text-align: center;
}
h1 {
    font-size: 20.0em;
}
ul {
    list-style-type: none
}
.old {
    text-decoration: line-through;
}
        </style>
    </head>

    <body>
        <h1>YES</h1>
        <h2>Days since last reorg: <strong id="last-reorg-days"></strong></h2>
        <h2>Expected reorg in <strong id="next-reorg-days"></strong> days</h2>
        <p>
            <ul>
                <li>(since June 5th, 2015)</li>
                <li class='old'>(since May 28th, 2015)</li>
                <li class='old'>(since May 20, 2015)</li>
                <li class='old'>(since May 4, 2015)</li>
                <li class='old'>(since April 21, 2015)</li>
                <li class='old'>(since April 14, 2015)</li>
                <li class='old'>(since March 27, 2015)</li>
            </ul>
        </p>

        <script>
var FIRST_REORG_DATE = new Date('2015-03-27');
var LAST_REORG_DATE = new Date('2015-06-05');
var NOW = new Date();
var ONE_DAY = 24 * 60 * 60 * 1000;

var jquery = document.getElementById.bind(document);

var daysSinceLastReorg = Math.floor(
    (NOW.getTime() - LAST_REORG_DATE.getTime()) / ONE_DAY
);

jquery('last-reorg-days').textContent = daysSinceLastReorg;

var numberOfReorgs = document.getElementsByTagName('li').length;
var avgTimeBetweenReorgs = (LAST_REORG_DATE.getTime() - FIRST_REORG_DATE.getTime()) / numberOfReorgs;
var expectedNextReorg = LAST_REORG_DATE.getTime() + avgTimeBetweenReorgs;
var daysToNextReorg = Math.ceil((expectedNextReorg - NOW.getTime()) / ONE_DAY);

jquery('next-reorg-days').textContent = daysToNextReorg;

        </script>
    </body>
</html>
